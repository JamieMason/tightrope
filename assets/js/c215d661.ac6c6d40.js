"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[7902],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),s=p(n),m=a,g=s["".concat(l,".").concat(m)]||s[m]||d[m]||o;return n?r.createElement(g,i(i({ref:t},c),{},{components:n})):r.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var u={};for(var l in t)hasOwnProperty.call(t,l)&&(u[l]=t[l]);u.originalType=e,u[s]="string"==typeof e?e:a,i[1]=u;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3486:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>u,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={id:"reduce-each",title:"reduceEach"},i=void 0,u={unversionedId:"api/gen/reduce-each",id:"api/gen/reduce-each",title:"reduceEach",description:"A higher-order function that takes a reducer function as its argument and",source:"@site/docs/api/gen/reduce-each.mdx",sourceDirName:"api/gen",slug:"/api/gen/reduce-each",permalink:"/tightrope/api/gen/reduce-each",draft:!1,editUrl:"https://github.com/JamieMason/tightrope/tree/master/site/docs/api/gen/reduce-each.mdx",tags:[],version:"current",frontMatter:{id:"reduce-each",title:"reduceEach"},sidebar:"sidebar",previous:{title:"reduce",permalink:"/tightrope/api/gen/reduce"},next:{title:"skip",permalink:"/tightrope/api/gen/skip"}},l={},p=[{value:"<code>reduce</code> or <code>reduceEach</code>?",id:"reduce-or-reduceeach",level:2},{value:"See also",id:"see-also",level:2}],c={toc:p},s="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(s,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"A higher-order function that takes a ",(0,a.kt)("inlineCode",{parentName:"p"},"reducer")," function as its argument and\nreturns a new function that can be used to reduce the values generated by a\ngenerator."),(0,a.kt)("p",null,"The returned function takes a generator as its argument and returns a new\ngenerator that yields the partial results of the reduction operation. It\nworks by applying the ",(0,a.kt)("inlineCode",{parentName:"p"},"reducer")," function to each pair of values generated by\nthe input generator, and yielding the partial results of the reduction\noperation."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"reducer")," function takes two arguments: an ",(0,a.kt)("inlineCode",{parentName:"p"},"accumulator")," value that\nrepresents the current state of the reduction operation, and a ",(0,a.kt)("inlineCode",{parentName:"p"},"value"),"\ngenerated by the input generator. The reducer function applies some operation\nto the accumulator value and the input value, and returns a new accumulator\nvalue that represents the updated state of the reduction operation."),(0,a.kt)("p",null,"In summary, ",(0,a.kt)("inlineCode",{parentName:"p"},"reduceEach")," is a powerful tool for working with generators in\nJavaScript and TypeScript. It can be used to perform complex reduction\noperations on large or complex data sets, and can help us write more\nefficient and focused code."),(0,a.kt)("p",null,"In this example, we use the ",(0,a.kt)("inlineCode",{parentName:"p"},"range")," function to generate a sequence of\nnumbers from ",(0,a.kt)("inlineCode",{parentName:"p"},"1")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"10"),", the ",(0,a.kt)("inlineCode",{parentName:"p"},"map")," function to double each value in the\nsequence, and the ",(0,a.kt)("inlineCode",{parentName:"p"},"take")," function to select the first ",(0,a.kt)("inlineCode",{parentName:"p"},"5")," values in the\nsequence. Finally, we apply the ",(0,a.kt)("inlineCode",{parentName:"p"},"reduceEach")," function with the ",(0,a.kt)("inlineCode",{parentName:"p"},"sum")," function\nas its argument to generate the partial sums of the remaining values in the\nsequence."),(0,a.kt)("p",null,"We then use a ",(0,a.kt)("inlineCode",{parentName:"p"},"for...of")," loop to iterate over the partial sums generated by\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"partialSums")," generator, and log them to the console."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { pipe } from 'tightrope/fn/pipe';\nimport { map } from 'tightrope/gen/map';\nimport { range } from 'tightrope/gen/range';\nimport { reduceEach } from 'tightrope/gen/reduce-each';\nimport { take } from 'tightrope/gen/take';\nimport { multiply } from 'tightrope/number/multiply';\n\nfunction sum(acc: number, curr: number): number {\n  return acc + curr;\n}\n\nconst partialSums = pipe(\n  range(1, 10),\n  map(multiply(2)),\n  take(5),\n  reduceEach(sum),\n);\n\nfor (const value of partialSums) {\n  console.log(value);\n  //  6\n  // 12\n  // 20\n  // 30\n}\n")),(0,a.kt)("p",null,"Common use cases for ",(0,a.kt)("inlineCode",{parentName:"p"},"reduceEach"),":"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Summing values"),": calculate the sum of a series of numbers generated by a\ngenerator."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Counting values"),": count the number of values generated by a generator that\nsatisfy a given condition."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Finding minimum or maximum values"),": find the minimum or maximum value\ngenerated by a generator."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Concatenating strings"),": concatenate a series of strings generated by a\ngenerator."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Grouping values"),": group a series of values generated by a generator into a\nnested structure, such as an object or an array."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Filtering values"),": filter the values generated by a generator based on a\ngiven condition."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Computing averages"),": compute the average of a series of numbers generated\nby a generator."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Building up an object"),": build up an object by accumulating properties and\nvalues generated by a generator.")),(0,a.kt)("p",null,"In general, ",(0,a.kt)("inlineCode",{parentName:"p"},"reduceEach")," can be used in any situation where we need to\nperform some kind of reduction operation on a series of values generated by a\ngenerator. Its flexibility and power make it a versatile tool for working\nwith generators in JavaScript and TypeScript."),(0,a.kt)("h2",{id:"reduce-or-reduceeach"},(0,a.kt)("inlineCode",{parentName:"h2"},"reduce")," or ",(0,a.kt)("inlineCode",{parentName:"h2"},"reduceEach"),"?"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"reduce")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"reduceEach")," are very similar functions, and it can be difficult\nto decide which one to use in a given situation. Here are some guidelines to\nhelp you decide:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Use ",(0,a.kt)("inlineCode",{parentName:"li"},"reduce")," if you want to perform a reduction operation on the entire\nsequence of values generated by a generator, and you only need to return a\nsingle value."),(0,a.kt)("li",{parentName:"ol"},"Use ",(0,a.kt)("inlineCode",{parentName:"li"},"reduceEach")," if you want to perform a reduction operation on each\nindividual value generated by a generator, and you need to return a\nsequence of partial results.")),(0,a.kt)("p",null,"In general, the choice between ",(0,a.kt)("inlineCode",{parentName:"p"},"reduce")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"reduceEach")," will depend on the\nspecific requirements of your problem, as well as the nature of the data you\nare working with."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If you need to perform a simple reduction operation on a single sequence of\nvalues, ",(0,a.kt)("inlineCode",{parentName:"li"},"reduce")," may be the better choice."),(0,a.kt)("li",{parentName:"ul"},"If you need to perform a more complex reduction operation that involves\nmultiple sequences of values, or if you need to return a sequence of\npartial results, ",(0,a.kt)("inlineCode",{parentName:"li"},"reduceEach")," may be the better choice.")),(0,a.kt)("h2",{id:"see-also"},"See also"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://jamiemason.github.io/tightrope/api/gen/reduce"},"https://jamiemason.github.io/tightrope/api/gen/reduce"))))}d.isMDXComponent=!0}}]);